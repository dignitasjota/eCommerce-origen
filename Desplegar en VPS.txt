1. El archivo m치gico: server.js
A diferencia de ejecutar npm run start en tu ordenador, el motor interno de Plesk siempre necesita un archivo "punto de entrada" (entry point) para saber c칩mo arrancar la aplicaci칩n.

En tu ordenador (localmente), crea un nuevo archivo llamado server.js en la ra칤z de tu proyecto (junto a tu package.json) y pega este c칩digo exacto:

javascript
// server.js
const { createServer } = require('http')
const { parse } = require('url')
const next = require('next')
const app = next({ dev: false })
const handle = app.getRequestHandler()
app.prepare().then(() => {
  createServer((req, res) => {
    const parsedUrl = parse(req.url, true)
    handle(req, res, parsedUrl)
  }).listen(process.env.PORT || 3000)
})
2. Modifica temporalmente tu package.json
El panel de Plesk instalar치 los paquetes solos, pero a diferencia de tu PC, Plesk se olvidar치 de preparar la base de datos (Prisma). Para obligarlo a crear el cliente de Prisma tras instalar, a침ade esta l칤nea a tus "scripts" dentro del archivo package.json:

json
"scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "postinstall": "prisma generate"  // <--- A칌ADE ESTA L칈NEA
  },
3. FASE LOCAL: 춰Compilar!
Siempre compila (construye) el proyecto en el Mac antes de enviarlo por FTP. Ejecuta esto en tu terminal local:

bash
npm run build
4. FASE FTP: S칰belo todo a Plesk
Abre tu programa de FTP (FileZilla o el propio Gestor de Plesk) y ve a la carpeta de tu dominio (suele llamarse httpdocs en Plesk). Borra cualquier archivo viejo e index gen칠rico que traiga Plesk y sube 칔NICAMENTE esto:

La carpeta .next (entera)
La carpeta public (entera)
La carpeta 

prisma
 (entera)
Tus archivos package.json y package-lock.json
Tu archivo oculto 

.env
 (donde pusiste las contrase침as de BBDD)
El nuevo archivo server.js
(Jam치s subas la carpeta node_modules ni src, tardar칤as horas y no sirve de nada en producci칩n).

5. Configurar Plesk 丘뙖잺
Ve al panel principal de tu dominio en Plesk y busca un bot칩n llamado Node.js (si no lo tienes, dile al due침o del VPS que instale la extensi칩n Node.js desde el cat치logo de Plesk).
Haz clic en Habilitar Node.js e introduce esta configuraci칩n:
Versi칩n de Node.js: Selecciona Node 18.x o 20.x LTS.
Application Root / Ra칤z de la app: Selecciona la ruta de tu web (ej: /httpdocs).
Document Root / Ra칤z del documento: Aqu칤 debes escribir exactamente la ruta hacia tu carpeta p칰blica: /httpdocs/public (esto es importante para cargar im치genes).
Modo de aplicaci칩n: Ponlo en production.
Archivo de inicio de la aplicaci칩n / Application Startup File: Escribe aqu칤 el nombre que definimos: server.js.
6. Instalar y Encender 游
Guarda todas esas configuraciones de la pesta침a Node.js.
Ah칤 mismo ver치s un bot칩n que dice "NPM Install" (Instalar dependencias de NPM). P칰lsalo. Ver치s que se pone a pensar; est치 descargando tus m칩dulos de los autores originales y compilando tu base de datos mediante el comando postinstall.
Una vez finalice, pulsa el bot칩n "Reiniciar App" (Restart App).
Abre tu web... 춰Y ver치s tu E-commerce de compras funcionando velozmente online! Plesk se encargar치 detr치s de c치maras de gestionar todo el tr치fico Nginx y de mantener activo el proceso de Node.js siempre.

